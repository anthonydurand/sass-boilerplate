@import utils
// This fluid grid system based of the idea of the great OOCSS grid system.
// The system support cutter spaces. For these you have to use the ".cell"
// selector as a sub child of ".row".
// Example:
// .row
//   .col-1-2
//     .cell
//   .col-1-4
//     .cell
//   .col-1-4
//     .cell

$gridGutterWidth: 20px !default
$gridColumnWidth: 40px !default
$gridColumnName: 'col' !default
$gridColumnNum: 16 !default

// @link https://gist.github.com/91663 by @chriseppstein
=percentageColumn($n, $m)
  @if $n == $m
    width: 100%
  @else
    width: percentage($n / $m)

=gridBuilder($columns: $gridColumnNum, $name: $gridColumnName)
  .line > [class*='#{$name}-']
    margin-left: 0

  .row, .line
    @extend .clearfix

  [class*='#{$name}-']
    display: inline
    float: left

  .row
    margin-left: -$gridGutterWidth
    .cell
      margin-left: $gridGutterWidth

  .snap-right
    float: right

  .#{$name}-1-1
    +percentageColumn(1, 1)

  @for $m from 1 through 5
    @for $n from 1 to $m
      .#{$name}-#{$n}-#{$m}
        +percentageColumn($n, $m)
